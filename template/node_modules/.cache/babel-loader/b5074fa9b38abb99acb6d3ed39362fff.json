{"ast":null,"code":"import _objectSpread from\"C:/Users/anhdu/OneDrive/Desktop/HrManager/hrmanager/template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect}from'react';import{useForm}from\"react-hook-form\";import{fetchEmployees}from\"../../redux/actions/employeeAct\";import{useDispatch,useSelector}from'react-redux';import{useNavigate}from\"react-router-dom\";import{useAlert}from'react-alert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DepartmentForm(_ref){var title=_ref.title,detail=_ref.detail,addSubmit=_ref.addSubmit;var listManager=useSelector(function(state){return state.employees.list;}).filter(function(item){return item.status==true;});var dispatch=useDispatch();var alert=useAlert();var navigate=useNavigate();useEffect(function(){dispatch(fetchEmployees());},[]);var _useForm=useForm({defaultValues:detail}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var handlerCancel=function handlerCancel(){alert.show(\"Bạn chưa hoàn thành tạo mới. Bạn có chắc chắn muốn rời khỏi khi chưa hoàn thành không?\",{closeCopy:\"Huỷ\",title:\"Rời khỏi trang?\",actions:[{copy:\"Đồng ý\",onClick:function onClick(){return navigate('/department');}}]});};var onSubmit=function onSubmit(data){alert.show(\"Bạn có chắc chắn muốn hoàn thành không?\",{closeCopy:\"Huỷ\",title:\"Tạo mới?\",actions:[{copy:\"Đồng ý\",onClick:function onClick(){return addSubmit(data);}}]});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium h-12 text-sm bg-slate-200 flex justify-end items-center px-5 shadow border-b border-gray-300\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-white flex items-center \"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white my-5  w-full container mx-auto rounded shadow-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" border-b px-5 py-3 border-gray-300\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-medium text-violet-600\",children:title})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"px-10 py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-6 gap-4 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-6\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mr-5\",children:\"K\\xEDch ho\\u1EA1t ph\\xF2ng ban\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative inline-block w-10 mr-2 align-middle select-none\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"status\")),{},{type:\"checkbox\",className:\"checked:bg-green-500 outline-none focus:outline-none right-4 checked:right-0 duration-200 ease-in absolute block w-6 h-6 rounded-full bg-gray-200 border-4 border-white appearance-none cursor-pointer\"})),/*#__PURE__*/_jsx(\"label\",{className:\"block overflow-hidden h-6 rounded-full bg-gray-300 ursor-pointer\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-4 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"T\\xEAn ph\\xF2ng ban\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",className:\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"},register(\"name\",{required:true})))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-4 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",className:\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"},register(\"phone\",{required:true})))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-4 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"Maneger\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register(\"manager\",{setValueAs:function setValueAs(v){return v!=\"0\"?v:null;}})),{},{className:\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"None\"}),listManager.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item.id,children:item.name},item.id);})]}))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-8\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mr-2 text-white font-medium w-36 h-10 bg-violet-500 rounded-full hover:bg-violet-600\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handlerCancel,className:\"mr-2 text-gray-500  w-36 h-10 font-medium bg-gray-200 rounded-full hover:bg-gray-300\",children:\"Cancel\"})]})]})]})]});}export default DepartmentForm;","map":{"version":3,"sources":["C:/Users/anhdu/OneDrive/Desktop/HrManager/hrmanager/template/src/pages/department/DepartmentForm.js"],"names":["useEffect","useForm","fetchEmployees","useDispatch","useSelector","useNavigate","useAlert","DepartmentForm","title","detail","addSubmit","listManager","state","employees","list","filter","item","status","dispatch","alert","navigate","defaultValues","register","handleSubmit","errors","formState","handlerCancel","show","closeCopy","actions","copy","onClick","onSubmit","data","required","setValueAs","v","map","id","name"],"mappings":"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","sourcesContent":["import { useEffect } from 'react'\r\nimport { useForm } from \"react-hook-form\";\r\nimport { fetchEmployees } from \"../../redux/actions/employeeAct\"\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAlert } from 'react-alert'\r\n\r\nfunction DepartmentForm({ title, detail, addSubmit }) {\r\n    const listManager = useSelector(state => state.employees.list).filter(item => item.status == true)\r\n    const dispatch = useDispatch()\r\n    const alert = useAlert()\r\n    const navigate = useNavigate()\r\n    useEffect(() => {\r\n        dispatch(fetchEmployees());\r\n    }, [])\r\n    const { register, handleSubmit, formState: { errors } } = useForm({ defaultValues: detail })\r\n    const handlerCancel = () => {\r\n        alert.show(\"Bạn chưa hoàn thành tạo mới. Bạn có chắc chắn muốn rời khỏi khi chưa hoàn thành không?\", {\r\n            closeCopy: \"Huỷ\",\r\n            title: \"Rời khỏi trang?\",\r\n            actions: [\r\n                {\r\n                    copy: \"Đồng ý\",\r\n                    onClick: () => navigate('/department'),\r\n                },\r\n            ],\r\n        });\r\n    }\r\n    const onSubmit = (data) => {\r\n        alert.show(\"Bạn có chắc chắn muốn hoàn thành không?\", {\r\n            closeCopy: \"Huỷ\",\r\n            title: \"Tạo mới?\",\r\n            actions: [\r\n                {\r\n                    copy: \"Đồng ý\",\r\n                    onClick: () => addSubmit(data),\r\n                },\r\n            ],\r\n        });\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"font-medium h-12 text-sm bg-slate-200 flex justify-end items-center px-5 shadow border-b border-gray-300\">\r\n                <div className=\"text-white flex items-center \">\r\n                    {/* <Link\r\n                        to=\"create\"\r\n                        className=\" bg-violet-500 px-2 py-1  hover:bg-violet-600 ml-2\"\r\n                    >\r\n                        Tạo mới\r\n                    </Link>\r\n                    <button\r\n                        onClick={exportPDF}\r\n                        className=\"font-medium bg-violet-500 px-2 py-1  hover:bg-violet-600 ml-2\"\r\n                    >\r\n                        Xuất PDF\r\n                    </button> */}\r\n                </div>\r\n            </div>\r\n            {/* content */}\r\n            <div className=\"bg-white my-5  w-full container mx-auto rounded shadow-md\">\r\n                <div className=\" border-b px-5 py-3 border-gray-300\">\r\n                    <span className=\"text-xl font-medium text-violet-600\">{title}</span>\r\n                </div>\r\n                <form onSubmit={handleSubmit(onSubmit)} className=\"px-10 py-5\">\r\n                    <div className=\"grid grid-cols-6 gap-4 \">\r\n                        <div className=\"col-span-6\">\r\n                            <span className=\"text-sm mr-5\">\r\n                                Kích hoạt phòng ban\r\n                            </span>\r\n                            <div className=\"relative inline-block w-10 mr-2 align-middle select-none\">\r\n                                <input  {...register(\"status\")} type=\"checkbox\" className=\"checked:bg-green-500 outline-none focus:outline-none right-4 checked:right-0 duration-200 ease-in absolute block w-6 h-6 rounded-full bg-gray-200 border-4 border-white appearance-none cursor-pointer\" />\r\n                                <label className=\"block overflow-hidden h-6 rounded-full bg-gray-300 ursor-pointer\">\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-span-4 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Tên phòng ban</span>\r\n                            <input type=\"text\" className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"\r\n                                {...register(\"name\", { required: true })}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-span-4 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Số điện thoại</span>\r\n                            <input type=\"text\" className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"\r\n                                {...register(\"phone\", { required: true })}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-span-4 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Maneger</span>\r\n                            <select {...register(\"manager\", { setValueAs: v => v != \"0\" ? v : null })} className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500 overflow-y-auto\">\r\n                                <option value=\"0\">None</option>\r\n                                {listManager.map(item => {\r\n                                    return (<option key={item.id} value={item.id}>{item.name}</option>)\r\n                                })}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"my-8\">\r\n                        <button type=\"submit\" className=\"mr-2 text-white font-medium w-36 h-10 bg-violet-500 rounded-full hover:bg-violet-600\">Save</button>\r\n                        <button type=\"button\" onClick={handlerCancel} className=\"mr-2 text-gray-500  w-36 h-10 font-medium bg-gray-200 rounded-full hover:bg-gray-300\">Cancel</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DepartmentForm"]},"metadata":{},"sourceType":"module"}