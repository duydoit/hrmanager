{"version":3,"file":"static/js/312.455263a5.chunk.js","mappings":"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","sources":["pages/approval/ApprovalCreate.js","api/approvalApi.js","redux/actions/approvalActions.js"],"sourcesContent":["import { useForm } from \"react-hook-form\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch } from 'react-redux';\r\nimport { addApproval } from \"../../redux/actions/approvalActions\"\r\n\r\nexport default function ApprovalCreate() {\r\n    const { register, handleSubmit, formState: { errors } } = useForm()\r\n\r\n    const alert = useAlert()\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n\r\n    const onSubmit = (data) => {\r\n        alert.show(\"Bạn có chắc chắn muốn hoàn thành không?\", {\r\n            closeCopy: \"Huỷ\",\r\n            title: \"Tạo mới?\",\r\n            actions: [\r\n                {\r\n                    copy: \"Đồng ý\",\r\n                    onClick: async () => {\r\n                        dispatch(addApproval(data))\r\n                    }\r\n                },\r\n            ],\r\n        });\r\n    }\r\n    const handlerCancel = () => {\r\n        alert.show(\"Bạn chưa hoàn thành tạo mới. Bạn có chắc chắn muốn rời khỏi khi chưa hoàn thành không?\", {\r\n            closeCopy: \"Huỷ\",\r\n            title: \"Rời khỏi trang?\",\r\n            actions: [\r\n                {\r\n                    copy: \"Đồng ý\",\r\n                    onClick: () => navigate('/approval'),\r\n                },\r\n            ],\r\n        });\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"font-medium h-12 text-sm bg-slate-200 flex justify-end items-center px-5 shadow border-b border-gray-300\">\r\n                <div className=\"text-white flex items-center \">\r\n                </div>\r\n            </div>\r\n            <div className=\"bg-white my-5  w-full container mx-auto rounded shadow-md\">\r\n                <div className=\" border-b px-5 py-3 border-gray-300\">\r\n                    <span className=\"text-xl font-medium text-violet-600\">Tạo đơn xin nghỉ</span>\r\n                </div>\r\n                <form onSubmit={handleSubmit(onSubmit)} className=\"px-10 py-5\">\r\n                    <div className=\"grid grid-cols-6 gap-4 \">\r\n                        <div className=\"col-span-4 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Tiêu đề</span>\r\n                            <input type=\"text\" className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"\r\n                                {...register(\"title\", { required: true })}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-span-4 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Nội dung chi tiết</span>\r\n                            <input type=\"text\" className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"\r\n                                {...register(\"description\")}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-span-4 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Nội dung chi tiết</span>\r\n                            <input type=\"date\" className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"\r\n                                {...register(\"date_approved\", { required: true })}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"my-8\">\r\n                        <button type=\"submit\" className=\"mr-2 text-white font-medium w-36 h-10 bg-violet-500 rounded-full hover:bg-violet-600\">Save</button>\r\n                        <button type=\"button\" onClick={handlerCancel} className=\"mr-2 text-gray-500  w-36 h-10 font-medium bg-gray-200 rounded-full hover:bg-gray-300\">Cancel</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst approvalApi = {\r\n    getAll: (params) => {\r\n        const url = \"approval/\";\r\n        return axiosClient.get(url, { params });\r\n    },\r\n    post: (data) => {\r\n        const url = \"approval/\";\r\n        return axiosClient.post(url, data);\r\n    },\r\n    get: (id) => {\r\n        const url = `approval/${id}/`;\r\n        return axiosClient.get(url);\r\n    },\r\n    put: (id, data) => {\r\n        const url = `approval/${id}/`;\r\n        return axiosClient.put(url, data);\r\n    },\r\n    delete: (id) => {\r\n        const url = `approval/${id}/`;\r\n        return axiosClient.delete(url);\r\n    },\r\n};\r\n\r\nexport default approvalApi;","import {\r\n    SET_APPROVED,\r\n    ADD_APPROVED,\r\n    PUT_APPROVED\r\n} from './types'\r\nimport approvalApi from '../../api/approvalApi';\r\nimport { getAlerts } from '../actions/alertAct'\r\n\r\nexport const setApproval = (items) => ({\r\n    type: SET_APPROVED,\r\n    payload: items,\r\n});\r\n// fetch all \r\nexport const fetchApproval = () => async (dispatch) => {\r\n    approvalApi.getAll()\r\n        .then(res => dispatch(setApproval(res)))\r\n        .catch(err => dispatch(getAlerts({ msg: `disconnect fetch : ${err.message} `, type: 'error' })))\r\n};\r\n\r\n// Create approval\r\nexport const addApproval = (data) => (dispatch) => {\r\n    approvalApi.post(data)\r\n        .then(res => {\r\n            dispatch(getAlerts({ msg: `Đã tạo đơn xin nghỉ`, title: 'Success' }));\r\n            dispatch({\r\n                type: ADD_APPROVED,\r\n                payload: res\r\n            });\r\n        })\r\n        .catch(err => {\r\n            dispatch(getAlerts({ msg: err.response.statusText, title: 'Error' }))\r\n        });\r\n}\r\n// Put approval\r\nexport const editApproval = (id, data) => (dispatch) => {\r\n    approvalApi.put(id, data)\r\n        .then(res => {\r\n            dispatch({\r\n                type: PUT_APPROVED,\r\n                payload: res\r\n            });\r\n        })\r\n        .catch(err => {\r\n            dispatch(getAlerts({ msg: err.response.statusText, title: 'Error' }))\r\n        });\r\n}"],"names":["ApprovalCreate","useForm","register","handleSubmit","alert","formState","errors","useAlert","dispatch","useDispatch","navigate","useNavigate","className","onSubmit","data","show","closeCopy","title","actions","copy","onClick","addApproval","type","required","getAll","params","axiosClient","post","get","id","url","put","delete","fetchApproval","approvalApi","then","res","items","SET_APPROVED","payload","catch","err","getAlerts","msg","message","ADD_APPROVED","response","statusText","editApproval","PUT_APPROVED"],"sourceRoot":""}