{"ast":null,"code":"import _objectSpread from\"C:/Users/anhdu/OneDrive/Desktop/HrManager/hrmanager/template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/anhdu/OneDrive/Desktop/HrManager/hrmanager/template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link}from'react-router-dom';import TableView from'../../components/table/tableView';import{useSelector,useDispatch}from\"react-redux\";import Pagination from'../../components/pagination/Pagination';import{useEffect,useState}from'react';import{fetchApproval,editApproval}from\"../../redux/actions/approvalActions\";import{useAlert}from'react-alert';import{useForm}from\"react-hook-form\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ApprovalPage(){var listApproval=useSelector(function(state){return state.approvals.list;});var auth=useSelector(function(state){return state.auth.user;});var dispatch=useDispatch();useEffect(function(){dispatch(fetchApproval());},[]);var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var _useState=useState({\"type-search\":\"employee_name\",\"value-search\":\"\",\"value-date\":\"\"}),_useState2=_slicedToArray(_useState,2),keySearch=_useState2[0],setKeySearch=_useState2[1];var alert=useAlert();var listSearch=searchItems(listApproval);//search\nvar onSubmit=function onSubmit(data){return setKeySearch(data);};function searchItems(data){return data.filter(function(item){return item[keySearch[\"type-search\"]].toString().toLowerCase().indexOf(keySearch[\"value-search\"].toLowerCase())>-1&&item[\"date_approved\"].toString().toLowerCase().indexOf(keySearch[\"value-date\"].toLowerCase())>-1;});}var columns=[{title:\"Nhân viên\",dataIndex:\"employee_name\",key:\"name\"},{title:\"Tiêu đề\",dataIndex:\"title\",key:\"title\"},{title:\"Ngày xin nghỉ\",dataIndex:\"date_approved\",key:\"date_approved\"},{title:\"Người duyệt\",dataIndex:\"approver_name\",key:\"approver_name\"},{title:\"Trạng thái\",dataIndex:\"status\",render:function render(ojb){return/*#__PURE__*/_jsxs(_Fragment,{children:[ojb.status==\"new\"&&/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-500 font-medium\",children:\"M\\u1EDBi\"}),ojb.status==\"approve\"&&/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 font-medium\",children:\"Duy\\u1EC7t \\u0111\\u01A1n\"}),ojb.status==\"cancel\"&&/*#__PURE__*/_jsx(\"span\",{className:\"text-rose-500 font-medium\",children:\"T\\u1EEB ch\\u1ED1i\"})]});}},{title:\"\",dataIndex:\"control\",key:\"control\",render:function render(ojb){return/*#__PURE__*/_jsx(_Fragment,{children:ojb.status==\"new\"&&auth.id==ojb.owner_id&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){var data={\"status\":\"approve\"};alert.show(\"\\u0110\\u1ED3ng \\xFD ph\\xEA duy\\u1EC7t \\u0111\\u01A1n !\",{title:\"Xác nhận đơn\",closeCopy:\"Huỷ\",actions:[{copy:\"Đồng ý\",onClick:function onClick(){return dispatch(editApproval(ojb.id,data));}}]});},className:\"font-medium text-white px-2 mx-1 py-1 bg-blue-500 hover:bg-blue-600\",children:\"Duy\\u1EC7t\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){{var data={\"status\":\"cancel\"};alert.show(\"T\\u1EEB ch\\u1ED1i ph\\xEA duy\\u1EC7t \\u0111\\u01A1n !\",{title:\"Xác nhận đơn\",closeCopy:\"Huỷ\",actions:[{copy:\"Đồng ý\",onClick:function onClick(){return dispatch(editApproval(ojb.id,data));}}]});}},className:\"font-medium text-white px-2 mx-1 py-1 bg-amber-400 hover:bg-amber-500\",children:\"T\\u1EEB ch\\u1ED1i\"})]})});}}];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(10),_useState6=_slicedToArray(_useState5,2),amountPerPage=_useState6[0],setAmountPerPage=_useState6[1];var indexOfLastPage=currentPage*amountPerPage;var indexOfFirstPage=indexOfLastPage-amountPerPage;var currentList=listSearch.slice(indexOfFirstPage,indexOfLastPage)||[];var totalPages=listSearch.length;var handlesPaginate=function handlesPaginate(pageNumber){return setCurrentPage(pageNumber);};var handlesAmountItem=function handlesAmountItem(value){return setAmountPerPage(value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-12 text-sm bg-slate-200 flex justify-end items-center px-5 shadow border-b border-gray-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-white flex items-center \",children:[/*#__PURE__*/_jsx(Link,{to:\"create\",className:\"font-medium bg-violet-500 px-2 py-1  hover:bg-violet-600 ml-2\",children:\"T\\u1EA1o \\u0111\\u01A1n\"}),/*#__PURE__*/_jsx(\"button\",{className:\"font-medium bg-violet-500 px-2 py-1  hover:bg-violet-600 ml-2\",children:\"Xu\\u1EA5t PDF\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white mt-5  w-full container mx-auto rounded shadow-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" border-b px-5 py-3 border-gray-300\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xl text-violet-600 font-medium\",children:\"\\u0110\\u01A1n xin ngh\\u1EC9\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"flex items-center px-5 w-full mt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full border-gray-300 rounded divide-gray-300 divide-x border mr-3\",children:[/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register(\"type-search\")),{},{className:\"px-3 py-1 rounded-l w-44 focus:outline-violet-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"employee_name\",children:\"T\\xEAn nh\\xE2n vi\\xEAn\"}),/*#__PURE__*/_jsx(\"option\",{value:\"employee\",children:\"M\\xE3 nh\\xE2n vi\\xEAn\"})]})),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register(\"value-search\")),{},{className:\"w-full px-3 py-1 rounded-r focus:outline-violet-500 \"}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-80 items-center mr-5 flex-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-1 flex-none font-normal\",children:\"Ng\\xE0y xin ngh\\u1EC9\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"date\"},register(\"value-date\")),{},{className:\"w-full px-3 py-1 rounded-r focus:outline-violet-500 border-gray-300  border\"}))]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"font-medium  flex-none text-sm w-28 mx-2 text-white px-2.5 py-1.5 bg-violet-500 hover:bg-violet-600\",children:\"T\\xECm ki\\u1EBFm\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){setKeySearch({\"type-search\":\"employee_name\",\"value-search\":\"\",\"value-date\":\"\"});reset({\"value-search\":\"\",\"value-date\":\"\"});},className:\"font-medium  flex-none text-sm w-28 mx-2 px-2.5 py-1.5 bg-gray-100 border hover:bg-gray-200\",children:\"\\u0110\\u1EB7t l\\u1EA1i\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-5 py-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-2 pb-5 text-2xl text-gray-700 font-medium\",children:[totalPages,\" B\\u1EA3n ghi\"]}),/*#__PURE__*/_jsx(TableView,{datas:currentList,columns:columns}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(Pagination,{amountPerPage:amountPerPage,currentPage:currentPage,totalPages:totalPages,paginate:handlesPaginate,amountItem:handlesAmountItem})})]})]})]});}export default ApprovalPage;","map":{"version":3,"sources":["C:/Users/anhdu/OneDrive/Desktop/HrManager/hrmanager/template/src/pages/approval/ApprovalPage.js"],"names":["Link","TableView","useSelector","useDispatch","Pagination","useEffect","useState","fetchApproval","editApproval","useAlert","useForm","ApprovalPage","listApproval","state","approvals","list","auth","user","dispatch","register","handleSubmit","reset","keySearch","setKeySearch","alert","listSearch","searchItems","onSubmit","data","filter","item","toString","toLowerCase","indexOf","columns","title","dataIndex","key","render","ojb","status","id","owner_id","show","closeCopy","actions","copy","onClick","currentPage","setCurrentPage","amountPerPage","setAmountPerPage","indexOfLastPage","indexOfFirstPage","currentList","slice","totalPages","length","handlesPaginate","pageNumber","handlesAmountItem","value"],"mappings":"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","sourcesContent":["\r\nimport { Link } from 'react-router-dom'\r\nimport TableView from '../../components/table/tableView'\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport Pagination from '../../components/pagination/Pagination'\r\nimport { useEffect, useState } from 'react'\r\nimport { fetchApproval, editApproval } from \"../../redux/actions/approvalActions\"\r\nimport { useAlert } from 'react-alert'\r\nimport { useForm } from \"react-hook-form\";\r\nfunction ApprovalPage() {\r\n    const listApproval = useSelector(state => state.approvals.list)\r\n    const auth = useSelector(state => state.auth.user)\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(fetchApproval());\r\n    }, []);\r\n    const { register, handleSubmit, reset } = useForm()\r\n    const [keySearch, setKeySearch] = useState({ \"type-search\": \"employee_name\", \"value-search\": \"\", \"value-date\": \"\" })\r\n\r\n    const alert = useAlert()\r\n    const listSearch = searchItems(listApproval)\r\n    //search\r\n    const onSubmit = data => setKeySearch(data);\r\n    function searchItems(data) {\r\n        return data.filter((item) =>\r\n            item[keySearch[\"type-search\"]].toString().toLowerCase().indexOf(keySearch[\"value-search\"].toLowerCase()) > -1 &&\r\n            item[\"date_approved\"].toString().toLowerCase().indexOf(keySearch[\"value-date\"].toLowerCase()) > -1\r\n        )\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            title: \"Nhân viên\",\r\n            dataIndex: \"employee_name\",\r\n            key: \"name\",\r\n        },\r\n        {\r\n            title: \"Tiêu đề\",\r\n            dataIndex: \"title\",\r\n            key: \"title\",\r\n        },\r\n        {\r\n            title: \"Ngày xin nghỉ\",\r\n            dataIndex: \"date_approved\",\r\n            key: \"date_approved\",\r\n        },\r\n        {\r\n            title: \"Người duyệt\",\r\n            dataIndex: \"approver_name\",\r\n            key: \"approver_name\",\r\n        },\r\n        {\r\n            title: \"Trạng thái\",\r\n            dataIndex: \"status\",\r\n            render: (ojb) => (\r\n                <>\r\n                    {ojb.status == \"new\" && <span className=\"text-blue-500 font-medium\" >Mới</span>}\r\n                    {ojb.status == \"approve\" && <span className=\"text-green-500 font-medium\" >Duyệt đơn</span>}\r\n                    {ojb.status == \"cancel\" && <span className=\"text-rose-500 font-medium\" >Từ chối</span>}\r\n                </>\r\n            )\r\n        },\r\n        {\r\n            title: \"\",\r\n            dataIndex: \"control\",\r\n            key: \"control\",\r\n            render: (ojb) => (\r\n                <>\r\n                    {ojb.status == \"new\" && auth.id == ojb.owner_id &&\r\n                        <div className=\"flex justify-end\">\r\n                            <button\r\n                                onClick={() => {\r\n                                    let data = { \"status\": \"approve\" }\r\n                                    alert.show(`Đồng ý phê duyệt đơn !`, {\r\n                                        title: \"Xác nhận đơn\",\r\n                                        closeCopy: \"Huỷ\",\r\n                                        actions: [\r\n                                            {\r\n                                                copy: \"Đồng ý\",\r\n                                                onClick: () => dispatch(editApproval(ojb.id, data))\r\n                                            },\r\n                                        ],\r\n                                    });\r\n                                }}\r\n                                className=\"font-medium text-white px-2 mx-1 py-1 bg-blue-500 hover:bg-blue-600\" >Duyệt</button>\r\n                            <button\r\n                                onClick={() => {\r\n                                    {\r\n                                        let data = { \"status\": \"cancel\" }\r\n                                        alert.show(`Từ chối phê duyệt đơn !`, {\r\n                                            title: \"Xác nhận đơn\",\r\n                                            closeCopy: \"Huỷ\",\r\n                                            actions: [\r\n                                                {\r\n                                                    copy: \"Đồng ý\",\r\n                                                    onClick: () => dispatch(editApproval(ojb.id, data))\r\n                                                },\r\n                                            ],\r\n                                        });\r\n                                    }\r\n                                }}\r\n                                className=\"font-medium text-white px-2 mx-1 py-1 bg-amber-400 hover:bg-amber-500\" >Từ chối</button>\r\n                        </div>\r\n                    }\r\n                </>\r\n            ),\r\n        },\r\n    ]\r\n\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const [amountPerPage, setAmountPerPage] = useState(10)\r\n\r\n    const indexOfLastPage = currentPage * amountPerPage\r\n    const indexOfFirstPage = indexOfLastPage - amountPerPage\r\n    const currentList = listSearch.slice(indexOfFirstPage, indexOfLastPage) || []\r\n    const totalPages = listSearch.length\r\n    const handlesPaginate = (pageNumber) => setCurrentPage(pageNumber)\r\n    const handlesAmountItem = (value) => setAmountPerPage(value)\r\n    return (\r\n        <div className=\"\">\r\n            <div className=\"h-12 text-sm bg-slate-200 flex justify-end items-center px-5 shadow border-b border-gray-300\">\r\n                <div className=\"text-white flex items-center \">\r\n                    <Link\r\n                        to=\"create\"\r\n                        className=\"font-medium bg-violet-500 px-2 py-1  hover:bg-violet-600 ml-2\"\r\n                    >\r\n                        Tạo đơn\r\n                    </Link>\r\n                    <button\r\n                        className=\"font-medium bg-violet-500 px-2 py-1  hover:bg-violet-600 ml-2\"\r\n                    >\r\n                        Xuất PDF\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div className=\"bg-white mt-5  w-full container mx-auto rounded shadow-md\">\r\n                <div className=\" border-b px-5 py-3 border-gray-300\">\r\n                    <span className=\"text-xl text-violet-600 font-medium\">Đơn xin nghỉ</span>\r\n                </div>\r\n                {/* search */}\r\n                <form onSubmit={handleSubmit(onSubmit)} className=\"flex items-center px-5 w-full mt-5\">\r\n                    <div className=\"flex w-full border-gray-300 rounded divide-gray-300 divide-x border mr-3\">\r\n                        <select  {...register(\"type-search\")} className=\"px-3 py-1 rounded-l w-44 focus:outline-violet-500\">\r\n                            <option value=\"employee_name\">Tên nhân viên</option>\r\n                            <option value=\"employee\">Mã nhân viên</option>\r\n                        </select>\r\n                        <input type=\"text\" {...register(\"value-search\")} className=\"w-full px-3 py-1 rounded-r focus:outline-violet-500 \" />\r\n                    </div>\r\n                    <div className=\"flex w-80 items-center mr-5 flex-none\">\r\n                        <div className=\"px-3 py-1 flex-none font-normal\">Ngày xin nghỉ</div>\r\n                        <input type=\"date\" {...register(\"value-date\")} className=\"w-full px-3 py-1 rounded-r focus:outline-violet-500 border-gray-300  border\" />\r\n                    </div>\r\n\r\n                    <button type=\"submit\" className=\"font-medium  flex-none text-sm w-28 mx-2 text-white px-2.5 py-1.5 bg-violet-500 hover:bg-violet-600\">Tìm kiếm</button>\r\n                    <button type=\"button\" onClick={() => { setKeySearch({ \"type-search\": \"employee_name\", \"value-search\": \"\", \"value-date\": \"\" }); reset({ \"value-search\": \"\", \"value-date\": \"\" }) }}\r\n                        className=\"font-medium  flex-none text-sm w-28 mx-2 px-2.5 py-1.5 bg-gray-100 border hover:bg-gray-200\">Đặt lại</button>\r\n                </form>\r\n                <div className=\"px-5 py-6\">\r\n                    <div className=\"px-2 pb-5 text-2xl text-gray-700 font-medium\">\r\n                        {totalPages} Bản ghi\r\n                    </div>\r\n                    <TableView datas={currentList} columns={columns} />\r\n                    <div className=\"mt-4\">\r\n                        <Pagination\r\n                            amountPerPage={amountPerPage}\r\n                            currentPage={currentPage}\r\n                            totalPages={totalPages}\r\n                            paginate={handlesPaginate}\r\n                            amountItem={handlesAmountItem}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ApprovalPage"]},"metadata":{},"sourceType":"module"}