{"version":3,"file":"static/js/606.2bf144c8.chunk.js","mappings":"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","sources":["pages/employee/EmployeeDetail.js","api/employeeApi.js","redux/actions/employeeAct.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { useNavigate, useParams } from \"react-router-dom\"\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport { detailEmployee, deleteEmployee } from \"../../redux/actions/employeeAct\"\r\nimport { useAlert } from 'react-alert'\r\nimport demoAvt from \"../../assets/img/avt_demo.jpg\";\r\nimport jsPDF from \"jspdf\"\r\nimport html2canvas from 'html2canvas';\r\n\r\nfunction EmployeeDetail() {\r\n    const textGander = { \"other\": \"Khác\", \"male\": \"Nam\", \"female\": \"Nữ\" }\r\n    const textMarital = { \"single\": \"Độc thân\", \"married\": \"Đã kết hôn\", \"cohabitant\": \"Sống thử\", \"divorced\": \"Ly hôn\", }\r\n    const textEmployeeType = { \"employee\": \"Nhân viên\", \"student\": \"Học sinh\", \"intern\": \"Thực tập\", \"freelancer\": \"Freelancer\" }\r\n\r\n    const alert = useAlert()\r\n    const navigate = useNavigate()\r\n    const { employeeId } = useParams()\r\n    const detail = useSelector(state => state.employees.detail)\r\n    const dispatch = useDispatch()\r\n\r\n    const generatePDF = () => {\r\n        const input = document.getElementById('content-detail-employee');\r\n        html2canvas(input)\r\n            .then((canvas) => {\r\n                const imgData = canvas.toDataURL('img/png');\r\n                const pdf = new jsPDF('l', 'pt', 'a4');\r\n                pdf.addImage(imgData, 'PNG', 1, 1);\r\n                pdf.save(`detail-employee-${detail.id}.pdf`);\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(detailEmployee(employeeId))\r\n    }, [employeeId])\r\n\r\n    const handlerDeletel = () => {\r\n        alert.show(`Bạn có muốn xoá nhân viên này !`, {\r\n            title: \"Xoá nhân viên\",\r\n            closeCopy: \"Huỷ\",\r\n            actions: [\r\n                {\r\n                    copy: \"Đồng ý\",\r\n                    onClick: () => dispatch(deleteEmployee(employeeId)),\r\n                },\r\n            ],\r\n        });\r\n    }\r\n    const handlerEdit = () => {\r\n        navigate(`/employee/${employeeId}/edit`)\r\n    }\r\n    return (\r\n        <div className=\"font-medium text-gray-700\">\r\n            {/* Header */}\r\n            <div className=\"h-12 text-sm bg-slate-200 flex justify-end items-center px-5 shadow border-b border-gray-300\">\r\n                <div className=\"text-white flex items-center \">\r\n                    <button\r\n                        onClick={handlerEdit}\r\n                        className=\"font-medium bg-violet-500 px-2 py-1  hover:bg-violet-600 ml-2\"\r\n                    >\r\n                        Sửa\r\n                    </button>\r\n                    <button\r\n                        onClick={handlerDeletel}\r\n                        className=\"font-medium bg-rose-500 px-2 py-1  hover:bg-rose-600 ml-2\"\r\n                    >\r\n                        Xoá\r\n                    </button>\r\n                    <button\r\n                        onClick={generatePDF}\r\n                        className=\"font-medium bg-violet-500 px-2 py-1  hover:bg-violet-600 ml-2\"\r\n                    >\r\n                        Xuất PDF\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            {/* Content */}\r\n\r\n            <div className=\"bg-white mt-5 w-full container mx-auto rounded shadow-md\">\r\n                {/* \"header name\" */}\r\n                <div className=\" border-b px-5 py-3 border-gray-300\">\r\n                    <span className=\"text-xl text-violet-600\">Chi tiết nhân viên</span>\r\n                </div>\r\n\r\n                <div className=\"flex px-5 py-10\" id=\"content-detail-employee\">\r\n                    <div className=\"text-center flex-none mx-6\">\r\n                        <img src={detail && detail.avatar ? detail.avatar : demoAvt}\r\n                            className=\"w-40 h-40 inline-block rounded-md object-cover object-center\"\r\n                            alt=\"avt\" />\r\n                        <div className=\"text-2xl my-5\" >{detail && detail.name}</div>\r\n                        <div className=\"py-1.5 px-2 rounded-full bg-green-100 text-green-600 my-3\" >Hoạt động</div>\r\n                    </div>\r\n                    <div className=\"w-full h-fit mx-5 grid grid-cols-4 gap-4 \">\r\n                        <div className=\"col-span-4 p-1 flex flex-col bg-gray-100\">\r\n                            <span className=\"mx-1 text-gray-600\">Họ và tên</span>\r\n                            <span className=\"px-3 py-1 text-lg\">{detail && detail.name}</span>\r\n                        </div>\r\n                        <div className=\"col-span-2 p-1 flex flex-col bg-gray-100\">\r\n                            <span className=\"mx-1 text-gray-600\">Giới tính</span>\r\n                            <span className=\"px-3 py-1 text-lg\">{textGander[`${detail && detail.gander}`]}</span>\r\n                        </div>\r\n                        <div className=\"col-span-2 p-1 flex flex-col bg-gray-100\">\r\n                            <span className=\"mx-1 text-gray-600\">Hôn nhân</span>\r\n                            <span className=\"px-3 py-1 text-lg\">{textMarital[`${detail && detail.marital}`]}</span>\r\n                        </div>\r\n                        <div className=\"col-span-2 p-1 flex flex-col bg-gray-100\">\r\n                            <span className=\"mx-1 text-gray-600\">Ngày sinh</span>\r\n                            <span className=\"px-3 py-1 text-lg\">{detail && detail.birthday}</span>\r\n                        </div>\r\n                        <div className=\"col-span-2 p-1 flex flex-col bg-gray-100\">\r\n                            <span className=\"mx-1 text-gray-600\">Số điện thoại</span>\r\n                            <span className=\"px-3 py-1 text-lg\">{detail && detail.phone}</span>\r\n                        </div>\r\n                        <div className=\"col-span-4 p-1 flex flex-col bg-gray-100\">\r\n                            <span className=\"mx-1 text-gray-600\">Email</span>\r\n                            <span className=\"px-3 py-1 text-lg\">{detail && detail.email}</span>\r\n                        </div>\r\n                        <div className=\"col-span-2 p-1 flex flex-col bg-gray-100\">\r\n                            <span className=\"mx-1 text-gray-600\">Mã nhân viên</span>\r\n                            <span className=\"px-3 py-1 text-lg\">{detail && detail.id}</span>\r\n                        </div>\r\n                        <div className=\"col-span-2 p-1 flex flex-col bg-gray-100\">\r\n                            <span className=\"mx-1 text-gray-600\">Thể loại</span>\r\n                            <span className=\"px-3 py-1 text-lg\">{textEmployeeType[`${detail && detail.employee_type}`]}</span>\r\n                        </div>\r\n                        <div className=\"col-span-2 p-1 flex flex-col bg-gray-100\">\r\n                            <span className=\"mx-1 text-gray-600\">Ngày vào</span>\r\n                            <span className=\"px-3 py-1 text-lg\">{detail && detail.joindate}</span>\r\n                        </div>\r\n                        <div className=\"col-span-2 p-1 flex flex-col bg-gray-100\">\r\n                            <span className=\"mx-1 text-gray-600\">Quản lý</span>\r\n                            <span className=\"px-3 py-1 text-lg\">{detail && detail.manager_name}</span>\r\n                        </div>\r\n                        <div className=\"col-span-2 p-1 flex flex-col bg-gray-100\">\r\n                            <span className=\"mx-1 text-gray-600\">Bậc lương</span>\r\n                            <span className=\"px-3 py-1 text-lg\">{detail && detail.wage_rate}</span>\r\n                        </div>\r\n                        <div className=\"col-span-2 p-1 flex flex-col bg-gray-100\">\r\n                            <span className=\"mx-1 text-gray-600\">Phòng ban</span>\r\n                            <span className=\"px-3 py-1 text-lg\">{detail && detail.department_name}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EmployeeDetail","import axiosClient from \"./axiosClient\";\r\n\r\nconst employeeApi = {\r\n  getAll: (params) => {\r\n    const url = \"employee/\";\r\n    return axiosClient.get(url, { params });\r\n  },\r\n  post: (data) => {\r\n    const url = \"employee/\";\r\n    return axiosClient.post(url, data);\r\n  },\r\n  get: (id) => {\r\n    const url = `employee/${id}/`;\r\n    return axiosClient.get(url);\r\n  },\r\n  put: (id, data) => {\r\n    const url = `employee/${id}/`;\r\n    return axiosClient.put(url, data);\r\n  },\r\n  delete: (id) => {\r\n    const url = `employee/${id}/`;\r\n    return axiosClient.delete(url);\r\n  },\r\n};\r\n\r\nexport default employeeApi;\r\n","import {\r\n  SET_EMPLOYEES,\r\n  DELETE_EMPLOYEE,\r\n  ADD_EMPLOYEE,\r\n  DETAIL_EMPLOYEE,\r\n  PUT_EMPLOYEE\r\n} from \"./types\";\r\nimport employeeApi from \"../../api/employeeApi\";\r\nimport { getAlerts } from \"./alertAct\"\r\n//getAll list Employee\r\nexport const setEmployee = (items) => ({\r\n  type: SET_EMPLOYEES,\r\n  payload: items,\r\n});\r\n// fetch all Employee\r\nexport const fetchEmployees = () => async (dispatch) => {\r\n  employeeApi.getAll()\r\n    .then(res => dispatch(setEmployee(res)))\r\n    .catch(err => dispatch(getAlerts({ msg: \"disconnect fetch\", type: 'error' })))\r\n};\r\n//post employee\r\nexport const addEmployee = (employee) => (dispatch) => {\r\n  employeeApi.post(employee)\r\n    .then(res => {\r\n      dispatch(getAlerts({ msg: `Đã tạo nhân viên có id ${res.id}`, title: 'Success' }));\r\n      dispatch({\r\n        type: ADD_EMPLOYEE,\r\n        payload: res\r\n      });\r\n    })\r\n    .catch(err => {\r\n      dispatch(getAlerts({ msg: err.response.statusText, title: 'Error' }))\r\n    });\r\n}\r\n\r\n//detail employee\r\nexport const detailEmployee = (id) => (dispatch) => {\r\n  employeeApi.get(id)\r\n    .then(res => {\r\n      dispatch({\r\n        type: DETAIL_EMPLOYEE,\r\n        payload: res\r\n      });\r\n    })\r\n    .catch(err => {\r\n      dispatch(getAlerts({ msg: err.response.statusText, title: 'Error' }))\r\n    });\r\n}\r\n//put employee\r\nexport const putEmployee = (id, data) => (dispatch) => {\r\n  employeeApi.put(id, data)\r\n    .then(res => {\r\n      dispatch(getAlerts({ msg: `Nhân viên cập nhật thành công !`, title: 'Success' }));\r\n      dispatch({\r\n        type: PUT_EMPLOYEE,\r\n        payload: res\r\n      })\r\n    })\r\n    .catch(err => {\r\n      dispatch(getAlerts({ msg: err.response.statusText, title: 'Error' }))\r\n    })\r\n}\r\n// delete employee\r\nexport const deleteEmployee = (id) => (dispatch) => {\r\n  employeeApi.delete(id)\r\n    .then((res) => {\r\n      dispatch(getAlerts({ msg: `Nhân viên đã được xoá !`, title: 'Success' }))\r\n      dispatch({ type: DELETE_EMPLOYEE, payload: id, })\r\n    })\r\n    .catch(err => dispatch(getAlerts({ msg: err.response.statusText, type: 'error' })));\r\n}"],"names":["alert","useAlert","navigate","useNavigate","employeeId","useParams","detail","useSelector","state","employees","dispatch","useDispatch","useEffect","detailEmployee","className","onClick","show","title","closeCopy","actions","copy","deleteEmployee","input","document","getElementById","html2canvas","then","canvas","imgData","toDataURL","pdf","jsPDF","addImage","save","id","src","avatar","demoAvt","alt","name","gander","marital","birthday","phone","email","employee_type","joindate","manager_name","wage_rate","department_name","getAll","params","axiosClient","post","data","get","url","put","delete","fetchEmployees","employeeApi","res","items","type","SET_EMPLOYEES","payload","catch","err","getAlerts","msg","addEmployee","employee","ADD_EMPLOYEE","response","statusText","DETAIL_EMPLOYEE","putEmployee","PUT_EMPLOYEE","DELETE_EMPLOYEE"],"sourceRoot":""}