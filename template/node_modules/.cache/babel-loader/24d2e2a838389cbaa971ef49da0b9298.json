{"ast":null,"code":"import _objectSpread from\"C:/Users/anhdu/OneDrive/Desktop/HrManager/hrmanager/template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from'react';import{useForm}from\"react-hook-form\";import{useNavigate}from\"react-router-dom\";import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{fetchEmployees}from\"../../redux/actions/employeeAct\";import{fetchDerpartments}from'../../redux/actions/departmentAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";EmployeeForm.defaultProps={employee:{\"name\":\"\",\"email\":\"\",\"phone\":\"\",\"birthday\":\"\",\"status\":false,\"gander\":\"male\",\"marital\":\"single\",\"joindate\":\"\",\"employee_type\":\"employee\",\"owner\":null,\"parent\":null,\"department\":null,\"wage_rate\":null}};function EmployeeForm(_ref){var title=_ref.title,employee=_ref.employee,addSubmit=_ref.addSubmit;var listManager=useSelector(function(state){return state.employees.list;}).filter(function(item){return item.status==true;});var listDepartment=useSelector(function(state){return state.departments.list;}).filter(function(item){return item.status==true;});var dispatch=useDispatch();useEffect(function(){dispatch(fetchEmployees());dispatch(fetchDerpartments());},[]);var alert=useAlert();var navigate=useNavigate();var _useForm=useForm({defaultValues:employee}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var onSubmit=function onSubmit(data){alert.show(\"Bạn có chắc chắn muốn hoàn thành không?\",{closeCopy:\"Huỷ\",title:\"Tạo mới?\",actions:[{copy:\"Đồng ý\",onClick:function onClick(){return addSubmit(data);}}]});};var handlerCancel=function handlerCancel(){alert.show(\"Bạn chưa hoàn thành tạo mới. Bạn có chắc chắn muốn rời khỏi khi chưa hoàn thành không?\",{closeCopy:\"Huỷ\",title:\"Rời khỏi trang?\",actions:[{copy:\"Đồng ý\",onClick:function onClick(){return navigate('/employee');}}]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"mx-10 my-8 text-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl text-violet-600 font-medium mb-10\",children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-rose-600\",children:errors.name&&errors.birthday&&errors.joindate&&errors.email&&errors.phone&&/*#__PURE__*/_jsx(\"span\",{children:\"Vui l\\xF2ng nh\\u1EADp \\u0111\\u1EA7y \\u0111\\u1EE7 th\\xF4ng tin\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid-cols-2 grid my-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-6 gap-4 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-6 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"H\\u1ECD v\\xE0 t\\xEAn\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",className:\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"},register(\"name\",{required:true})))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"Gi\\u1EDBi t\\xEDnh\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register(\"gender\")),{},{className:\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Nam\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"N\\u1EEF\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Kh\\xE1c\"})]}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"Tr\\xECnh tr\\u1EA1ng h\\xF4n nh\\xE2n\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register(\"marital\")),{},{className:\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"single\",children:\"\\u0110\\u1ED9c th\\xE2n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"married\",children:\"K\\u1EBFt h\\xF4n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cohabitant\",children:\"S\\u1ED1ng th\\u1EED\"}),/*#__PURE__*/_jsx(\"option\",{value:\"divorced\",children:\"Ly d\\u1ECB\"})]}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"Ng\\xE0y sinh\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"date\",className:\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"},register(\"birthday\",{required:true})))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",className:\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"},register(\"phone\",{required:true})))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-6 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",className:\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"},register(\"email\",{required:true})))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"Th\\u1EC3 lo\\u1EA1i\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register(\"employee_type\")),{},{className:\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"employee\",children:\"Nh\\xE2n vi\\xEAn\"}),/*#__PURE__*/_jsx(\"option\",{value:\"student\",children:\"H\\u1ECDc sinh\"}),/*#__PURE__*/_jsx(\"option\",{value:\"intern\",children:\"Th\\u1EF1c t\\u1EADp\"}),/*#__PURE__*/_jsx(\"option\",{value:\"freelancer\",children:\"L\\xE0m t\\u1EF1 do\"})]}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"Join Date\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"date\",className:\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"},register(\"joindate\",{required:true})))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"Maneger\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register(\"parent\",{setValueAs:function setValueAs(v){return v!=\"0\"?parseInt(v):null;}})),{},{className:\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"None\"}),listManager.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item.id,children:item.name},item.id);})]}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"Wage Rate\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",className:\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500 \"},register(\"wage_rate\",{setValueAs:function setValueAs(v){return v?parseInt(v):null;}})))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-6 flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mb-2\",children:\"Department\"}),/*#__PURE__*/_jsxs(\"select\",_objectSpread(_objectSpread({},register(\"department\",{setValueAs:function setValueAs(v){return v!=\"0\"?parseInt(v):null;}})),{},{className:\"overflow-y-auto px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"None\"}),listDepartment.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item.id,children:item.name},item.id);})]}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-6\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mr-5\",children:\"Active Employee\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative inline-block w-10 mr-2 align-middle select-none\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"status\")),{},{type:\"checkbox\",className:\"checked:bg-violet-500 outline-none focus:outline-none right-4 checked:right-0 duration-200 ease-in absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer\"})),/*#__PURE__*/_jsx(\"label\",{className:\"block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mr-2 text-white font-medium w-36 h-10 bg-violet-500 rounded-full hover:bg-violet-600\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handlerCancel,className:\"mr-2 text-gray-500  w-36 h-10 font-medium bg-gray-200 rounded-full hover:bg-gray-300\",children:\"Cancel\"})]})]})]});}export default EmployeeForm;","map":{"version":3,"sources":["C:/Users/anhdu/OneDrive/Desktop/HrManager/hrmanager/template/src/pages/employee/EmployeeForm.js"],"names":["React","useEffect","useForm","useNavigate","useAlert","useDispatch","useSelector","fetchEmployees","fetchDerpartments","EmployeeForm","defaultProps","employee","title","addSubmit","listManager","state","employees","list","filter","item","status","listDepartment","departments","dispatch","alert","navigate","defaultValues","register","handleSubmit","errors","formState","onSubmit","data","show","closeCopy","actions","copy","onClick","handlerCancel","name","birthday","joindate","email","phone","required","setValueAs","v","parseInt","map","id"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAlert } from 'react-alert'\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchEmployees } from \"../../redux/actions/employeeAct\"\r\nimport { fetchDerpartments } from '../../redux/actions/departmentAction';\r\nEmployeeForm.propTypes = {\r\n    employee: PropTypes.object,\r\n};\r\nEmployeeForm.defaultProps = {\r\n    employee: {\r\n        \"name\": \"\",\r\n        \"email\": \"\",\r\n        \"phone\": \"\",\r\n        \"birthday\": \"\",\r\n        \"status\": false,\r\n        \"gander\": \"male\",\r\n        \"marital\": \"single\",\r\n        \"joindate\": \"\",\r\n        \"employee_type\": \"employee\",\r\n        \"owner\": null,\r\n        \"parent\": null,\r\n        \"department\": null,\r\n        \"wage_rate\": null,\r\n    },\r\n}\r\n\r\nfunction EmployeeForm({ title, employee, addSubmit }) {\r\n    const listManager = useSelector(state => state.employees.list).filter(item => item.status == true)\r\n    const listDepartment = useSelector(state => state.departments.list).filter(item => item.status == true)\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(fetchEmployees());\r\n        dispatch(fetchDerpartments())\r\n    }, [])\r\n    const alert = useAlert()\r\n    const navigate = useNavigate()\r\n    const { register, handleSubmit, formState: { errors } } = useForm({ defaultValues: employee })\r\n\r\n    const onSubmit = (data) => {\r\n        alert.show(\"Bạn có chắc chắn muốn hoàn thành không?\", {\r\n            closeCopy: \"Huỷ\",\r\n            title: \"Tạo mới?\",\r\n            actions: [\r\n                {\r\n                    copy: \"Đồng ý\",\r\n                    onClick: () => addSubmit(data),\r\n                },\r\n            ],\r\n        });\r\n    }\r\n    const handlerCancel = () => {\r\n        alert.show(\"Bạn chưa hoàn thành tạo mới. Bạn có chắc chắn muốn rời khỏi khi chưa hoàn thành không?\", {\r\n            closeCopy: \"Huỷ\",\r\n            title: \"Rời khỏi trang?\",\r\n            actions: [\r\n                {\r\n                    copy: \"Đồng ý\",\r\n                    onClick: () => navigate('/employee'),\r\n                },\r\n            ],\r\n        });\r\n    }\r\n    return (\r\n        <div className=\"mx-10 my-8 text-gray-600\">\r\n            <div className=\"text-xl text-violet-600 font-medium mb-10\">{title}</div>\r\n            <div className=\"text-rose-600\">\r\n                {errors.name && errors.birthday && errors.joindate && errors.email && errors.phone &&\r\n                    <span>Vui lòng nhập đầy đủ thông tin</span>}\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)} className=\"\">\r\n                <div className=\"grid-cols-2 grid my-3\">\r\n                    <div className=\"grid grid-cols-6 gap-4 \">\r\n\r\n                        <div className=\"col-span-6 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Họ và tên</span>\r\n                            <input type=\"text\" className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"\r\n                                {...register(\"name\", { required: true })}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-span-3 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Giới tính</span>\r\n                            <select {...register(\"gender\")} className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\">\r\n                                <option value=\"male\">Nam</option>\r\n                                <option value=\"female\">Nữ</option>\r\n                                <option value=\"other\">Khác</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"col-span-3 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Trình trạng hôn nhân</span>\r\n                            <select {...register(\"marital\")} className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\">\r\n                                <option value=\"single\">Độc thân</option>\r\n                                <option value=\"married\">Kết hôn</option>\r\n                                <option value=\"cohabitant\">Sống thử</option>\r\n                                <option value=\"divorced\">Ly dị</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"col-span-3 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Ngày sinh</span>\r\n                            <input type=\"date\" className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"\r\n                                {...register(\"birthday\", { required: true })}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-span-3 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Số điện thoại</span>\r\n                            <input type=\"text\" className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"\r\n                                {...register(\"phone\", { required: true })}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-span-6 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Email</span>\r\n                            <input type=\"text\" className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"\r\n                                {...register(\"email\", { required: true })}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-span-3 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Thể loại</span>\r\n                            <select {...register(\"employee_type\")} className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\">\r\n                                <option value=\"employee\">Nhân viên</option>\r\n                                <option value=\"student\">Học sinh</option>\r\n                                <option value=\"intern\">Thực tập</option>\r\n                                <option value=\"freelancer\">Làm tự do</option>\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"col-span-3 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Join Date</span>\r\n                            <input type=\"date\" className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\"\r\n                                {...register(\"joindate\", { required: true })}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-span-3 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Maneger</span>\r\n                            <select {...register(\"parent\", { setValueAs: v => v != \"0\" ? parseInt(v) : null })} className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500 overflow-y-auto\">\r\n                                <option value=\"0\">None</option>\r\n                                {listManager.map(item => {\r\n                                    return (<option key={item.id} value={item.id}>{item.name}</option>)\r\n                                })}\r\n                            </select>\r\n\r\n                        </div>\r\n                        <div className=\"col-span-3 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Wage Rate</span>\r\n                            <input type=\"text\" className=\"px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500 \"\r\n                                {...register(\"wage_rate\", { setValueAs: v => v ? parseInt(v) : null })}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-span-6 flex flex-col\">\r\n                            <span className=\"text-sm mb-2\">Department</span>\r\n                            <select {...register(\"department\", { setValueAs: v => v != \"0\" ? parseInt(v) : null })} className=\"overflow-y-auto px-2 py-2 border rounded focus:outline-none focus:border-2 focus:border-sky-400 focus:text-sky-500\">\r\n                                <option value=\"0\">None</option>\r\n                                {listDepartment.map(item => {\r\n                                    return (<option key={item.id} value={item.id}>{item.name}</option>)\r\n                                })}\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"col-span-6\">\r\n                            <span className=\"text-sm mr-5\">\r\n                                Active Employee\r\n                            </span>\r\n                            <div className=\"relative inline-block w-10 mr-2 align-middle select-none\">\r\n                                <input  {...register(\"status\")} type=\"checkbox\" className=\"checked:bg-violet-500 outline-none focus:outline-none right-4 checked:right-0 duration-200 ease-in absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer\" />\r\n                                <label className=\"block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer\">\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\" className=\"mr-2 text-white font-medium w-36 h-10 bg-violet-500 rounded-full hover:bg-violet-600\">Save</button>\r\n                    <button type=\"button\" onClick={handlerCancel} className=\"mr-2 text-gray-500  w-36 h-10 font-medium bg-gray-200 rounded-full hover:bg-gray-300\">Cancel</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EmployeeForm\r\n"]},"metadata":{},"sourceType":"module"}