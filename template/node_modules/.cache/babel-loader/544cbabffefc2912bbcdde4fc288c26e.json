{"ast":null,"code":"import{SET_ACCOUNT,ADD_ACCOUNT,DETAIL_ACCOUNT,DELETE_ACCOUNT,EDIT_ACCOUNT}from'./types';import userApi from'../../api/userApi';import{getAlerts}from'../actions/alertAct';export var setAccount=function setAccount(items){return{type:SET_ACCOUNT,payload:items};};// fetch all \nexport var fetchAccounts=function fetchAccounts(){return function(dispatch){userApi.getAll().then(function(res){return dispatch(setAccount(res));}).catch(function(err){return dispatch(getAlerts({msg:\"disconnect fetch : \".concat(err.message,\" \"),type:'error'}));});};};export var addAccount=function addAccount(data){return function(dispatch){userApi.register(data).then(function(res){dispatch(getAlerts({msg:\"\\u0110\\xE3 t\\u1EA1o t\\xE0i kho\\u1EA3n c\\xF3 username: \".concat(res.username),title:'Success'}));dispatch({type:ADD_ACCOUNT,payload:res});}).catch(function(err){dispatch(getAlerts({msg:err.response.statusText,title:'Error'}));});};};//detail account\nexport var detailAccount=function detailAccount(id){return function(dispatch){userApi.get(id).then(function(res){dispatch({type:DETAIL_ACCOUNT,payload:res});}).catch(function(err){dispatch(getAlerts({msg:err.response.statusText,title:'Error'}));});};};export var deleteAccount=function deleteAccount(id){return function(dispatch){userApi.delete(id).then(function(res){dispatch(getAlerts({msg:\"T\\xE0i kho\\u1EA3n \\u0111\\xE3 b\\u1ECB xo\\xE1 !\",title:'Success'}));dispatch({type:DELETE_ACCOUNT,payload:id});}).catch(function(err){return dispatch(getAlerts({msg:err.response.statusText,type:'error'}));});};};export var editAccount=function editAccount(id,data){return function(dispatch){userApi.put(id,data).then(function(res){dispatch(getAlerts({msg:\"T\\xE0i kho\\u1EA3n c\\u1EADp nh\\u1EADt th\\xE0nh c\\xF4ng !\",title:'Success'}));dispatch({type:EDIT_ACCOUNT,payload:res});}).catch(function(err){dispatch(getAlerts({msg:err.response.statusText,title:'Error'}));});};};","map":{"version":3,"sources":["C:/Users/anhdu/OneDrive/Desktop/HrManager/hrmanager/template/src/redux/actions/accountActions.js"],"names":["SET_ACCOUNT","ADD_ACCOUNT","DETAIL_ACCOUNT","DELETE_ACCOUNT","EDIT_ACCOUNT","userApi","getAlerts","setAccount","items","type","payload","fetchAccounts","dispatch","getAll","then","res","catch","err","msg","message","addAccount","data","register","username","title","response","statusText","detailAccount","id","get","deleteAccount","delete","editAccount","put"],"mappings":"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","sourcesContent":["import {\r\n    SET_ACCOUNT,\r\n    ADD_ACCOUNT,\r\n    DETAIL_ACCOUNT,\r\n    DELETE_ACCOUNT,\r\n    EDIT_ACCOUNT,\r\n} from './types'\r\nimport userApi from '../../api/userApi';\r\nimport { getAlerts } from '../actions/alertAct'\r\n\r\nexport const setAccount = (items) => ({\r\n    type: SET_ACCOUNT,\r\n    payload: items,\r\n});\r\n// fetch all \r\nexport const fetchAccounts = () => (dispatch) => {\r\n    userApi.getAll()\r\n        .then(res => dispatch(setAccount(res)))\r\n        .catch(err => dispatch(getAlerts({ msg: `disconnect fetch : ${err.message} `, type: 'error' })))\r\n};\r\n\r\nexport const addAccount = (data) => (dispatch) => {\r\n    userApi.register(data)\r\n        .then(res => {\r\n            dispatch(getAlerts({ msg: `Đã tạo tài khoản có username: ${res.username}`, title: 'Success' }));\r\n            dispatch({\r\n                type: ADD_ACCOUNT,\r\n                payload: res\r\n            });\r\n        })\r\n        .catch(err => {\r\n            dispatch(getAlerts({ msg: err.response.statusText, title: 'Error' }))\r\n        });\r\n}\r\n\r\n//detail account\r\nexport const detailAccount = (id) => (dispatch) => {\r\n    userApi.get(id)\r\n        .then(res => {\r\n            dispatch({\r\n                type: DETAIL_ACCOUNT,\r\n                payload: res\r\n            });\r\n        })\r\n        .catch(err => {\r\n            dispatch(getAlerts({ msg: err.response.statusText, title: 'Error' }))\r\n        });\r\n}\r\nexport const deleteAccount = (id) => (dispatch) => {\r\n    userApi.delete(id)\r\n        .then((res) => {\r\n            dispatch(getAlerts({ msg: `Tài khoản đã bị xoá !`, title: 'Success' }))\r\n            dispatch({ type: DELETE_ACCOUNT, payload: id, })\r\n        })\r\n        .catch(err => dispatch(getAlerts({ msg: err.response.statusText, type: 'error' })));\r\n}\r\n\r\nexport const editAccount = (id, data) => (dispatch) => {\r\n    userApi.put(id, data)\r\n        .then(res => {\r\n            dispatch(getAlerts({ msg: `Tài khoản cập nhật thành công !`, title: 'Success' }));\r\n            dispatch({\r\n                type: EDIT_ACCOUNT,\r\n                payload: res\r\n            })\r\n        })\r\n        .catch(err => {\r\n            dispatch(getAlerts({ msg: err.response.statusText, title: 'Error' }))\r\n        })\r\n}"]},"metadata":{},"sourceType":"module"}